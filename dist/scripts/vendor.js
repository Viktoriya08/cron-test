const g=typeof window<"u",X=g&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Y=g&&"IntersectionObserver"in window,Z=g&&"classList"in document.createElement("p"),j=g&&window.devicePixelRatio>1,ft={elements_selector:".lazy",container:X||g?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},tt=t=>Object.assign({},ft,t),B=function(t,e){let s;const a="LazyLoad::Initialized",n=new t(e);try{s=new CustomEvent(a,{detail:{instance:n}})}catch{s=document.createEvent("CustomEvent"),s.initCustomEvent(a,!1,!1,{instance:n})}window.dispatchEvent(s)},_="src",R="srcset",T="sizes",et="poster",I="llOriginalAttrs",st="data",G="loading",at="loaded",nt="applied",D="error",lt="native",rt="data-",ot="ll-status",c=(t,e)=>t.getAttribute(rt+e),k=t=>c(t,ot),p=(t,e)=>((s,a,n)=>{var r=rt+a;n!==null?s.setAttribute(r,n):s.removeAttribute(r)})(t,ot,e),y=t=>p(t,null),H=t=>k(t)===null,C=t=>k(t)===lt,It=[G,at,nt,D],b=(t,e,s,a)=>{t&&(a===void 0?s===void 0?t(e):t(e,s):t(e,s,a))},E=(t,e)=>{Z?t.classList.add(e):t.className+=(t.className?" ":"")+e},d=(t,e)=>{Z?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},it=t=>t.llTempImage,O=(t,e)=>{if(!e)return;const s=e._observer;s&&s.unobserve(t)},V=(t,e)=>{t&&(t.loadingCount+=e)},J=(t,e)=>{t&&(t.toLoadCount=e)},ct=t=>{let e=[];for(let s,a=0;s=t.children[a];a+=1)s.tagName==="SOURCE"&&e.push(s);return e},$=(t,e)=>{const s=t.parentNode;!s||s.tagName!=="PICTURE"||ct(s).forEach(e)},dt=(t,e)=>{ct(t).forEach(e)},w=[_],_t=[_,et],f=[_,R,T],ut=[st],x=t=>!!t[I],gt=t=>t[I],bt=t=>delete t[I],v=(t,e)=>{if(x(t))return;const s={};e.forEach(a=>{s[a]=t.getAttribute(a)}),t[I]=s},h=(t,e)=>{if(!x(t))return;const s=gt(t);e.forEach(a=>{((n,r,l)=>{l?n.setAttribute(r,l):n.removeAttribute(r)})(t,a,s[a])})},S=(t,e,s)=>{E(t,e.class_applied),p(t,nt),s&&(e.unobserve_completed&&O(t,e),b(e.callback_applied,t,s))},mt=(t,e,s)=>{E(t,e.class_loading),p(t,G),s&&(V(s,1),b(e.callback_loading,t,s))},u=(t,e,s)=>{s&&t.setAttribute(e,s)},P=(t,e)=>{u(t,T,c(t,e.data_sizes)),u(t,R,c(t,e.data_srcset)),u(t,_,c(t,e.data_src))},ht={IMG:(t,e)=>{$(t,s=>{v(s,f),P(s,e)}),v(t,f),P(t,e)},IFRAME:(t,e)=>{v(t,w),u(t,_,c(t,e.data_src))},VIDEO:(t,e)=>{dt(t,s=>{v(s,w),u(s,_,c(s,e.data_src))}),v(t,_t),u(t,et,c(t,e.data_poster)),u(t,_,c(t,e.data_src)),t.load()},OBJECT:(t,e)=>{v(t,ut),u(t,st,c(t,e.data_src))}},kt=["IMG","IFRAME","VIDEO","OBJECT"],U=(t,e)=>{!e||(s=>s.loadingCount>0)(e)||(s=>s.toLoadCount>0)(e)||b(t.callback_finish,e)},q=(t,e,s)=>{t.addEventListener(e,s),t.llEvLisnrs[e]=s},At=(t,e,s)=>{t.removeEventListener(e,s)},N=t=>!!t.llEvLisnrs,M=t=>{if(!N(t))return;const e=t.llEvLisnrs;for(let s in e){const a=e[s];At(t,s,a)}delete t.llEvLisnrs},K=(t,e,s)=>{(a=>{delete a.llTempImage})(t),V(s,-1),(a=>{a&&(a.toLoadCount-=1)})(s),d(t,e.class_loading),e.unobserve_completed&&O(t,s)},F=(t,e,s)=>{const a=it(t)||t;N(a)||((n,r,l)=>{N(n)||(n.llEvLisnrs={});const o=n.tagName==="VIDEO"?"loadeddata":"load";q(n,o,r),q(n,"error",l)})(a,n=>{((r,l,o,i)=>{const m=C(l);K(l,o,i),E(l,o.class_loaded),p(l,at),b(o.callback_loaded,l,i),m||U(o,i)})(0,t,e,s),M(a)},n=>{((r,l,o,i)=>{const m=C(l);K(l,o,i),E(l,o.class_error),p(l,D),b(o.callback_error,l,i),o.restore_on_error&&h(l,f),m||U(o,i)})(0,t,e,s),M(a)})},wt=(t,e,s)=>{(a=>{a.llTempImage=document.createElement("IMG")})(t),F(t,e,s),(a=>{x(a)||(a[I]={backgroundImage:a.style.backgroundImage})})(t),((a,n,r)=>{const l=c(a,n.data_bg),o=c(a,n.data_bg_hidpi),i=j&&o?o:l;i&&(a.style.backgroundImage=`url("${i}")`,it(a).setAttribute(_,i),mt(a,n,r))})(t,e,s),((a,n,r)=>{const l=c(a,n.data_bg_multi),o=c(a,n.data_bg_multi_hidpi),i=j&&o?o:l;i&&(a.style.backgroundImage=i,S(a,n,r))})(t,e,s),((a,n,r)=>{const l=c(a,n.data_bg_set);if(!l)return;const o=l.split("|");let i=o.map(m=>`image-set(${m})`);a.style.backgroundImage=i.join(),a.style.backgroundImage===""&&(i=o.map(m=>`-webkit-image-set(${m})`),a.style.backgroundImage=i.join()),S(a,n,r)})(t,e,s)},Lt=(t,e,s)=>{F(t,e,s),((a,n,r)=>{const l=ht[a.tagName];l&&(l(a,n),mt(a,n,r))})(t,e,s)},z=(t,e,s)=>{(a=>kt.indexOf(a.tagName)>-1)(t)?Lt(t,e,s):wt(t,e,s)},yt=(t,e,s)=>{t.setAttribute("loading","lazy"),F(t,e,s),((a,n)=>{const r=ht[a.tagName];r&&r(a,n)})(t,e),p(t,lt)},Q=t=>{t.removeAttribute(_),t.removeAttribute(R),t.removeAttribute(T)},pt=t=>{$(t,e=>{h(e,f)}),h(t,f)},Ot={IMG:pt,IFRAME:t=>{h(t,w)},VIDEO:t=>{dt(t,e=>{h(e,w)}),h(t,_t),t.load()},OBJECT:t=>{h(t,ut)}},xt=t=>{const e=Ot[t.tagName];e?e(t):(s=>{if(!x(s))return;const a=gt(s);s.style.backgroundImage=a.backgroundImage})(t)},Ct=(t,e)=>{xt(t),((s,a)=>{H(s)||C(s)||(d(s,a.class_entered),d(s,a.class_exited),d(s,a.class_applied),d(s,a.class_loading),d(s,a.class_loaded),d(s,a.class_error))})(t,e),y(t),bt(t)},Nt=(t,e,s,a)=>{s.cancel_on_exit&&(n=>k(n)===G)(t)&&t.tagName==="IMG"&&(M(t),(n=>{$(n,r=>{Q(r)}),Q(n)})(t),pt(t),d(t,s.class_loading),V(a,-1),y(t),b(s.callback_cancel,t,e,a))},Mt=(t,e,s,a)=>{const n=(r=>It.indexOf(k(r))>=0)(t);p(t,"entered"),E(t,s.class_entered),d(t,s.class_exited),((r,l,o)=>{l.unobserve_entered&&O(r,o)})(t,s,a),b(s.callback_enter,t,e,a),n||z(t,s,a)},zt=["IMG","IFRAME","VIDEO"],vt=t=>t.use_native&&"loading"in HTMLImageElement.prototype,Rt=(t,e,s)=>{t.forEach(a=>(n=>n.isIntersecting||n.intersectionRatio>0)(a)?Mt(a.target,a,e,s):((n,r,l,o)=>{H(n)||(E(n,l.class_exited),Nt(n,r,l,o),b(l.callback_exit,n,r,o))})(a.target,a,e,s))},Tt=(t,e)=>{Y&&!vt(t)&&(e._observer=new IntersectionObserver(s=>{Rt(s,t,e)},(s=>({root:s.container===document?null:s.container,rootMargin:s.thresholds||s.threshold+"px"}))(t)))},Et=t=>Array.prototype.slice.call(t),L=t=>t.container.querySelectorAll(t.elements_selector),Gt=t=>(e=>k(e)===D)(t),W=(t,e)=>(s=>Et(s).filter(H))(t||L(e)),Dt=(t,e)=>{var s;(s=L(t),Et(s).filter(Gt)).forEach(a=>{d(a,t.class_error),y(a)}),e.update()},A=function(t,e){const s=tt(t);this._settings=s,this.loadingCount=0,Tt(s,this),((a,n)=>{g&&(n._onlineHandler=()=>{Dt(a,n)},window.addEventListener("online",n._onlineHandler))})(s,this),this.update(e)};A.prototype={update:function(t){const e=this._settings,s=W(t,e);var a,n;J(this,s.length),!X&&Y?vt(e)?((r,l,o)=>{r.forEach(i=>{zt.indexOf(i.tagName)!==-1&&yt(i,l,o)}),J(o,0)})(s,e,this):(a=this._observer,n=s,(r=>{r.disconnect()})(a),((r,l)=>{l.forEach(o=>{r.observe(o)})})(a,n)):this.loadAll(s)},destroy:function(){var t;this._observer&&this._observer.disconnect(),t=this,g&&window.removeEventListener("online",t._onlineHandler),L(this._settings).forEach(e=>{bt(e)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){const e=this._settings;W(t,e).forEach(s=>{O(s,this),z(s,e,this)})},restoreAll:function(){const t=this._settings;L(t).forEach(e=>{Ct(e,t)})}},A.load=(t,e)=>{const s=tt(e);z(t,s)},A.resetStatus=t=>{y(t)},g&&((t,e)=>{if(e)if(e.length)for(let s,a=0;s=e[a];a+=1)B(t,s);else B(t,e)})(A,window.lazyLoadOptions);export{A as L};
